
{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user of the Daily Planner Pro application.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The user's name."
        },
        "subjects": {
          "type": "array",
          "description": "List of subjects the user is enrolled in.",
          "items": {
            "$ref": "#/entities/Subject"
          }
        },
        "schedule": {
          "type": "object",
          "description": "The user's weekly schedule. Maps Subject ID to an array of days (1-7).",
          "additionalProperties": {
            "type": "array",
            "items": {
              "type": "number"
            }
          }
        },
        "theme": {
          "type": "string",
          "description": "The selected color theme for the app."
        },
        "setupComplete": {
          "type": "boolean",
          "description": "Flag indicating if the user has completed the initial setup."
        }
      },
      "required": ["name", "setupComplete"]
    },
    "Subject": {
      "title": "Subject",
      "type": "object",
      "description": "Represents a school subject.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the subject."
        },
        "name": {
          "type": "string",
          "description": "The name of the subject."
        },
        "isCustom": {
          "type": "boolean",
          "description": "Flag indicating if the subject was added by the user."
        }
      },
      "required": ["id", "name", "isCustom"]
    },
    "Task": {
      "title": "Task",
      "type": "object",
      "description": "Represents a specific task or homework assignment.",
      "properties": {
        "subjectId": {
          "type": "string",
          "description": "Reference to Subject."
        },
        "subjectName": {
          "type": "string",
          "description": "Denormalized name of the subject for easy display."
        },
        "dueDate": {
          "type": "string",
          "format": "date-time",
          "description": "The due date for the task."
        },
        "description": {
          "type": "string",
          "description": "A description of the task."
        },
        "isCompleted": {
          "type": "boolean",
          "description": "Indicates whether the task has been completed."
        },
        "isManual": {
          "type": "boolean",
          "description": "True if the task was added manually by the user."
        },
        "plannedDate": {
          "type": "string",
          "format": "date-time",
          "description": "Specific date a user plans to do a weekend task."
        },
        "estimatedTime": {
          "type": "number",
          "description": "Estimated time in minutes to complete the task."
        }
      },
      "required": [
        "subjectId",
        "subjectName",
        "dueDate",
        "isCompleted",
        "isManual"
      ]
    },
    "Event": {
      "title": "Event",
      "type": "object",
      "description": "Represents a personal, non-academic event.",
      "properties": {
        "title": {
          "type": "string",
          "description": "The title of the event."
        },
        "description": {
          "type": "string",
          "description": "A description of the event."
        },
        "eventDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date of the event."
        },
        "startTime": {
          "type": "string",
          "description": "The start time of the event (e.g., '18:00')."
        },
        "endTime": {
          "type": "string",
          "description": "The end time of the event (e.g., '20:00')."
        }
      },
      "required": ["title", "eventDate"]
    }
  },
  "auth": {
    "providers": ["anonymous", "google.com", "password"]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "schema": {
            "$ref": "#/entities/User"
          },
          "description": "Stores user profiles. The document ID is the Firebase Auth UID."
        }
      },
      {
        "path": "/users/{userId}/tasks/{taskId}",
        "definition": {
          "schema": {
            "$ref": "#/entities/Task"
          },
          "description": "A flat collection of all tasks for a user, simplifying queries."
        }
      },
      {
        "path": "/users/{userId}/events/{eventId}",
        "definition": {
          "schema": {
            "$ref": "#/entities/Event"
          },
          "description": "Stores personal events for a user."
        }
      }
    ]
  }
}
